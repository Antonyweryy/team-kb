<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ë–∞–∑–∞ –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  /* –°–±—Ä–æ—Å —Å—Ç–∏–ª–µ–π */
  body, h1, h2, p, ul, li {
    margin: 0;
    padding: 0;
  }
  body {
    font-family: 'Telegram WebApp', 'Helvetica Neue', Helvetica, Arial, sans-serif;
    line-height: 1.5;
    background-color: #fff;
    color: #111;
    padding: 16px;
    transition: background-color 0.3s, color 0.3s;
  }

  /* –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ */
  @media (prefers-color-scheme: dark) {
    body {
      background-color: #1e1e1e;
      color: #e1e1e1;
    }
    h1, h2 {
      color: #fff;
    }
    .module-list li {
      border-color: #444;
    }
  }

  h1 {
    font-size: 28px;
    margin-bottom: 8px;
  }

  #username {
    font-size: 18px;
    margin-bottom: 12px;
    font-weight: bold;
    color: #0088cc;
  }

  p {
    margin-bottom: 16px;
  }

  .module-list {
    list-style: none;
    padding-left: 0;
  }

  .module-list li {
    padding: 10px 12px;
    margin-bottom: 8px;
    background-color: #f2f3f5;
    border-left: 4px solid #0088cc;
    border-radius: 6px;
    transition: background-color 0.3s;
  }

  @media (prefers-color-scheme: dark) {
    .module-list li {
      background-color: #2a2a2a;
    }
    .module-list a {
  color: #0088cc; /* —Ç–µ–ª–µ–≥—Ä–∞–º-—Å–∏–Ω–∏–π, –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å */
  text-decoration: none; /* —É–±–∏—Ä–∞–µ–º –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ */
  display: block; /* —á—Ç–æ–±—ã –≤–µ—Å—å –±–ª–æ–∫ –±—ã–ª –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º */
  padding: 8px 0;
  font-weight: 500;
  border-bottom: 1px solid #e6e6e6; /* —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ */
  transition: background 0.2s;
}

.module-list a:hover {
  background: rgba(0, 136, 204, 0.1); /* –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
  border-radius: 6px;
}

  }
</style>
</head>
<body>
  <div id="username">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
  <p></p>
  <p></p>
  <p></p>
  <h1>–ë–∞–∑–∞ –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞</h1>
  <p>üëã –ü—Ä–∏–≤–µ—Ç, –¥–æ—Ä–æ–≥–æ–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à—É –±–∞–∑—É –∑–Ω–∞–Ω–∏–π.</p>
  <p>–ó–¥–µ—Å—å —Ç—ã –Ω–∞–π–¥—ë—à—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ä–∞–±–æ—á–µ–π —á–∞—Å—Ç–∏, —Å—é–¥–∞ –º–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç. –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–¥–µ—Å—å —Å–æ–±—Ä–∞–Ω–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã —Ç—ã –º–æ–≥(-–ª–∞) –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫ –Ω–æ–≤–æ–π –¥–ª—è —Ç–µ–±—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä–æ –∏ –≤ –∫–æ—Ä–æ—Ç–∫–∏–π —Å—Ä–æ–∫)</p>
  <p>
    –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –Ω–∞–∏–ª—É—á—à–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –ø–æ–¥–µ–ª–µ–Ω–∞ –Ω–∞ –±–ª–æ–∫–∏ (M0 ‚Üí M1 ‚Üí M2 –∏ —Ç.–¥.). 
    –î–æ—Å—Ç—É–ø –∫ –Ω–∏–º –≤—ã–¥–∞—ë—Ç—Å—è –ø–æ—ç—Ç–∞–ø–Ω–æ, –ø–æ –º–µ—Ä–µ –ø–æ—è–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π –∏ –ø–æ–ª–Ω–æ–≥–æ –æ—Å–≤–æ–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–≤–Ω—è.
  </p>
  <p>
    –í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ —É–∫–∞–∑–∞–Ω—ã —Å—Å—ã–ª–∫–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–µ—Ä–≤—ã–µ –º–æ–¥—É–ª–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è. 
    –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ç–∫—Ä—ã—Ç–∏–∏ –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π –±—É–¥–µ—Ç –≤ –ª–∏—á–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.
  </p>
  <ul class="module-list">
  <li><a href="#" data-module="M0">M0. –†–æ–ª—å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞</a></li>
  <li><a href="#" data-module="M1">M1. –¢–µ—Ä–º–∏–Ω—ã</a></li>
  <li><a href="#" data-module="M2">M2. –ì–¥–µ –∏—Å–∫–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ –ò–Ω—Å—Ç–∞–≥—Ä–∞–º</a></li>
  <li><a href="#" data-module="M3">M3. –ê–Ω–∞–ª–∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</a></li>
  <li><a href="#" data-module="M4">M4. –í—Å—ë –æ —Ä–∞—Å—Å—ã–ª–∫–∞—Ö (–±–µ–∑ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö)</a></li>
</ul>

<div id="M0" class="module" style="display:none">...</div>
<div id="M1" class="module" style="display:none; padding:16px; font-family:'Telegram WebApp', Helvetica, Arial, sans-serif;">
  <button class="back" style="
    background: #0088cc;
    color: #fff;
    border: none;
    border-radius: 6px;
    padding: 6px 12px;
    font-size: 14px;
    cursor: pointer;
    margin-bottom: 16px;
  ">‚Üê –ù–∞–∑–∞–¥</button>

  <h2 style="font-size:22px; margin-bottom:12px;">M1. –¢–µ—Ä–º–∏–Ω—ã –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏–µ</h2>

  <p style="margin-bottom:12px;">–í —ç—Ç–æ–º –º–æ–¥—É–ª–µ —Ç—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏—à—å—Å—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ç–µ—Ä–º–∏–Ω–∞–º–∏ –∏ –ø–æ–Ω—è—Ç–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≥–æ–¥—è—Ç—Å—è –≤ —Ä–∞–±–æ—Ç–µ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞.</p>

  <ul style="list-style:none; padding-left:0;">
    <li style="padding:8px 12px; margin-bottom:8px; background:#f2f3f5; border-left:4px solid #0088cc; border-radius:6px;">
      <strong>–¢–µ—Ä–º–∏–Ω 1:</strong> –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–∞.
    </li>
    <li style="padding:8px 12px; margin-bottom:8px; background:#f2f3f5; border-left:4px solid #0088cc; border-radius:6px;">
      <strong>–¢–µ—Ä–º–∏–Ω 2:</strong> –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–∞.
    </li>
    <li style="padding:8px 12px; margin-bottom:8px; background:#f2f3f5; border-left:4px solid #0088cc; border-radius:6px;">
      <strong>–¢–µ—Ä–º–∏–Ω 3:</strong> –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–∞.
    </li>
  </ul>

  <p style="margin-top:16px;">–ü–æ –º–µ—Ä–µ –∏–∑—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ –∏—Ö —Å–ø–∏—Å–æ–∫ –±—É–¥–µ—Ç –ø–æ–ø–æ–ª–Ω—è—Ç—å—Å—è.</p>
</div>

<div id="M2" class="module" style="display:none">...</div>
<div id="M3" class="module" style="display:none">...</div>
<div id="M4" class="module" style="display:none">...</div>


<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
const tg = window.Telegram.WebApp;

async function init() {
  try {
    const res = await fetch("https://broken-meadow-47c5.ivlievd156.workers.dev/validate", {
      method: "POST",
      headers: {"Content-Type":"application/json"},
      body: JSON.stringify({ initData: tg.initData })
    });
    const data = await res.json();
    if(data.ok) {
      const name = data.user.first_name || "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å";
      document.getElementById("username").textContent = name;
    } else {
      document.getElementById("username").textContent = "–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞";
    }
  } catch(e) {
    document.getElementById("username").textContent = "–û—à–∏–±–∫–∞ —Å–≤—è–∑–∏ —Å —Å–µ—Ä–≤–µ—Ä–æ–º";
  }
  document.querySelectorAll('.module-list a').forEach(a=>{
  a.addEventListener('click', e=>{
    e.preventDefault();
    const moduleId = a.dataset.module;
    document.querySelectorAll('.module').forEach(m=>m.style.display='none');
    document.getElementById(moduleId).style.display='block';
  });
});

document.querySelectorAll('.back').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    document.querySelectorAll('.module').forEach(m=>m.style.display='none');
  });
});

}

init();
</script>
</body>
</html>
